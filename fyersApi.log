{"level":"ERROR","location":"[On_message:1434] data_ws","message":"\"Key 'orderBook' not found. If specifying a record_path, all elements of data should have the path.\"","timestamp":"2024-02-26 22:16:20,734+0530","service":"FyersDataSocket","exception":"Traceback (most recent call last):\n  File \"d:\\AlgoMaster_Trail\\venv\\Lib\\site-packages\\pandas\\io\\json\\_normalize.py\", line 398, in _pull_field\n    result = result[spec]\n             ~~~~~~^^^^^^\nKeyError: 'orderBook'\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"d:\\AlgoMaster_Trail\\venv\\Lib\\site-packages\\fyers_apiv3\\FyersWebsocket\\data_ws.py\", line 1425, in On_message\n    self.OnMessage(message)\n  File \"D:\\AlgoMaster_Trail\\FyersWebSocket.py\", line 89, in onmessage\n    tmp_trd_prc = utl.get_order_traded_price(curr_order_id)\n                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"D:\\AlgoMaster_Trail\\AlgoUtil.py\", line 57, in get_order_traded_price\n    tmp_orders = pd.json_normalize(fyers.orderbook(data=data), record_path=['orderBook'])\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"d:\\AlgoMaster_Trail\\venv\\Lib\\site-packages\\pandas\\io\\json\\_normalize.py\", line 517, in json_normalize\n    _recursive_extract(data, record_path, {}, level=0)\n  File \"d:\\AlgoMaster_Trail\\venv\\Lib\\site-packages\\pandas\\io\\json\\_normalize.py\", line 499, in _recursive_extract\n    recs = _pull_records(obj, path[0])\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"d:\\AlgoMaster_Trail\\venv\\Lib\\site-packages\\pandas\\io\\json\\_normalize.py\", line 421, in _pull_records\n    result = _pull_field(js, spec, extract_record=True)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"d:\\AlgoMaster_Trail\\venv\\Lib\\site-packages\\pandas\\io\\json\\_normalize.py\", line 401, in _pull_field\n    raise KeyError(\nKeyError: \"Key 'orderBook' not found. If specifying a record_path, all elements of data should have the path.\"","exception_name":"KeyError"}
{"level":"ERROR","location":"[__response_output:991] data_ws","message":"string indices must be integers, not 'str'","timestamp":"2024-02-26 22:16:20,816+0530","service":"FyersDataSocket","exception":"Traceback (most recent call last):\n  File \"d:\\AlgoMaster_Trail\\venv\\Lib\\site-packages\\pandas\\io\\json\\_normalize.py\", line 398, in _pull_field\n    result = result[spec]\n             ~~~~~~^^^^^^\nKeyError: 'orderBook'\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"d:\\AlgoMaster_Trail\\venv\\Lib\\site-packages\\fyers_apiv3\\FyersWebsocket\\data_ws.py\", line 1425, in On_message\n    self.OnMessage(message)\n  File \"D:\\AlgoMaster_Trail\\FyersWebSocket.py\", line 89, in onmessage\n    tmp_trd_prc = utl.get_order_traded_price(curr_order_id)\n                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"D:\\AlgoMaster_Trail\\AlgoUtil.py\", line 57, in get_order_traded_price\n    tmp_orders = pd.json_normalize(fyers.orderbook(data=data), record_path=['orderBook'])\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"d:\\AlgoMaster_Trail\\venv\\Lib\\site-packages\\pandas\\io\\json\\_normalize.py\", line 517, in json_normalize\n    _recursive_extract(data, record_path, {}, level=0)\n  File \"d:\\AlgoMaster_Trail\\venv\\Lib\\site-packages\\pandas\\io\\json\\_normalize.py\", line 499, in _recursive_extract\n    recs = _pull_records(obj, path[0])\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"d:\\AlgoMaster_Trail\\venv\\Lib\\site-packages\\pandas\\io\\json\\_normalize.py\", line 421, in _pull_records\n    result = _pull_field(js, spec, extract_record=True)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"d:\\AlgoMaster_Trail\\venv\\Lib\\site-packages\\pandas\\io\\json\\_normalize.py\", line 401, in _pull_field\n    raise KeyError(\nKeyError: \"Key 'orderBook' not found. If specifying a record_path, all elements of data should have the path.\"\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"d:\\AlgoMaster_Trail\\venv\\Lib\\site-packages\\fyers_apiv3\\FyersWebsocket\\data_ws.py\", line 988, in __response_output\n    self.On_message(response)\n  File \"d:\\AlgoMaster_Trail\\venv\\Lib\\site-packages\\fyers_apiv3\\FyersWebsocket\\data_ws.py\", line 1435, in On_message\n    self.On_error(f\"KeyError: The key {key_name} is missing in the response.\")\n  File \"d:\\AlgoMaster_Trail\\venv\\Lib\\site-packages\\fyers_apiv3\\FyersWebsocket\\data_ws.py\", line 1492, in On_error\n    self.OnError(message)\n  File \"D:\\AlgoMaster_Trail\\FyersWebSocket.py\", line 108, in onerror\n    messages.append(\"Error: \" + str(message[\"message\"] ))\n                                    ~~~~~~~^^^^^^^^^^^\nTypeError: string indices must be integers, not 'str'","exception_name":"TypeError"}
{"level":"ERROR","location":"[On_message:1434] data_ws","message":"\"Key 'orderBook' not found. If specifying a record_path, all elements of data should have the path.\"","timestamp":"2024-02-26 23:19:58,176+0530","service":"FyersDataSocket","exception":"Traceback (most recent call last):\n  File \"d:\\AlgoMaster_Trail\\venv\\Lib\\site-packages\\pandas\\io\\json\\_normalize.py\", line 398, in _pull_field\n    result = result[spec]\n             ~~~~~~^^^^^^\nKeyError: 'orderBook'\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"d:\\AlgoMaster_Trail\\venv\\Lib\\site-packages\\fyers_apiv3\\FyersWebsocket\\data_ws.py\", line 1425, in On_message\n    self.OnMessage(message)\n  File \"D:\\AlgoMaster_Trail\\FyersWebSocket.py\", line 89, in onmessage\n    tmp_trd_prc = utl.get_order_traded_price(curr_order_id)\n                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"D:\\AlgoMaster_Trail\\AlgoUtil.py\", line 57, in get_order_traded_price\n    tmp_orders = pd.json_normalize(fyers.orderbook(data=data), record_path=['orderBook'])\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"d:\\AlgoMaster_Trail\\venv\\Lib\\site-packages\\pandas\\io\\json\\_normalize.py\", line 517, in json_normalize\n    _recursive_extract(data, record_path, {}, level=0)\n  File \"d:\\AlgoMaster_Trail\\venv\\Lib\\site-packages\\pandas\\io\\json\\_normalize.py\", line 499, in _recursive_extract\n    recs = _pull_records(obj, path[0])\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"d:\\AlgoMaster_Trail\\venv\\Lib\\site-packages\\pandas\\io\\json\\_normalize.py\", line 421, in _pull_records\n    result = _pull_field(js, spec, extract_record=True)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"d:\\AlgoMaster_Trail\\venv\\Lib\\site-packages\\pandas\\io\\json\\_normalize.py\", line 401, in _pull_field\n    raise KeyError(\nKeyError: \"Key 'orderBook' not found. If specifying a record_path, all elements of data should have the path.\"","exception_name":"KeyError"}
{"level":"ERROR","location":"[__response_output:991] data_ws","message":"string indices must be integers, not 'str'","timestamp":"2024-02-26 23:19:58,246+0530","service":"FyersDataSocket","exception":"Traceback (most recent call last):\n  File \"d:\\AlgoMaster_Trail\\venv\\Lib\\site-packages\\pandas\\io\\json\\_normalize.py\", line 398, in _pull_field\n    result = result[spec]\n             ~~~~~~^^^^^^\nKeyError: 'orderBook'\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"d:\\AlgoMaster_Trail\\venv\\Lib\\site-packages\\fyers_apiv3\\FyersWebsocket\\data_ws.py\", line 1425, in On_message\n    self.OnMessage(message)\n  File \"D:\\AlgoMaster_Trail\\FyersWebSocket.py\", line 89, in onmessage\n    tmp_trd_prc = utl.get_order_traded_price(curr_order_id)\n                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"D:\\AlgoMaster_Trail\\AlgoUtil.py\", line 57, in get_order_traded_price\n    tmp_orders = pd.json_normalize(fyers.orderbook(data=data), record_path=['orderBook'])\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"d:\\AlgoMaster_Trail\\venv\\Lib\\site-packages\\pandas\\io\\json\\_normalize.py\", line 517, in json_normalize\n    _recursive_extract(data, record_path, {}, level=0)\n  File \"d:\\AlgoMaster_Trail\\venv\\Lib\\site-packages\\pandas\\io\\json\\_normalize.py\", line 499, in _recursive_extract\n    recs = _pull_records(obj, path[0])\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"d:\\AlgoMaster_Trail\\venv\\Lib\\site-packages\\pandas\\io\\json\\_normalize.py\", line 421, in _pull_records\n    result = _pull_field(js, spec, extract_record=True)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"d:\\AlgoMaster_Trail\\venv\\Lib\\site-packages\\pandas\\io\\json\\_normalize.py\", line 401, in _pull_field\n    raise KeyError(\nKeyError: \"Key 'orderBook' not found. If specifying a record_path, all elements of data should have the path.\"\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"d:\\AlgoMaster_Trail\\venv\\Lib\\site-packages\\fyers_apiv3\\FyersWebsocket\\data_ws.py\", line 988, in __response_output\n    self.On_message(response)\n  File \"d:\\AlgoMaster_Trail\\venv\\Lib\\site-packages\\fyers_apiv3\\FyersWebsocket\\data_ws.py\", line 1435, in On_message\n    self.On_error(f\"KeyError: The key {key_name} is missing in the response.\")\n  File \"d:\\AlgoMaster_Trail\\venv\\Lib\\site-packages\\fyers_apiv3\\FyersWebsocket\\data_ws.py\", line 1492, in On_error\n    self.OnError(message)\n  File \"D:\\AlgoMaster_Trail\\FyersWebSocket.py\", line 108, in onerror\n    messages.append(\"Error: \" + str(message[\"message\"] ))\n                                    ~~~~~~~^^^^^^^^^^^\nTypeError: string indices must be integers, not 'str'","exception_name":"TypeError"}
